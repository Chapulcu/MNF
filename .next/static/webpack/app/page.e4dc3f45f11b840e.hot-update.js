"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./lib/hooks/usePitchState.ts":
/*!************************************!*\
  !*** ./lib/hooks/usePitchState.ts ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   usePitchState: () => (/* binding */ usePitchState)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_api_players__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/api/players */ \"(app-pages-browser)/./lib/api/players.ts\");\n/* harmony import */ var _lib_api_pitchState__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/api/pitchState */ \"(app-pages-browser)/./lib/api/pitchState.ts\");\n/* harmony import */ var _lib_utils_pitch_layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils/pitch-layout */ \"(app-pages-browser)/./lib/utils/pitch-layout.ts\");\n/* __next_internal_client_entry_do_not_use__ usePitchState auto */ \n\n\n\nfunction usePitchState() {\n    const [matchType, setMatchType] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('5v5');\n    const [activePlayers, setActivePlayers] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(new Map());\n    const [playerPool, setPlayerPool] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [scheduledAt, setScheduledAt] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isActive, setIsActive] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const lastSyncTime = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)('');\n    const syncTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const loadInitialData = async ()=>{\n        try {\n            setLoading(true);\n            const [players, pitchState] = await Promise.all([\n                (0,_lib_api_players__WEBPACK_IMPORTED_MODULE_1__.getAllPlayers)(),\n                (0,_lib_api_pitchState__WEBPACK_IMPORTED_MODULE_2__.getPitchState)()\n            ]);\n            setPlayerPool(players);\n            lastSyncTime.current = pitchState.updatedAt;\n            // Build active players map from server state\n            const activeMap = new Map();\n            const playerMap = new Map(players.map((p)=>[\n                    p.id,\n                    p\n                ]));\n            for (const slot of pitchState.activePlayers){\n                const player = playerMap.get(slot.playerId);\n                if (player) {\n                    activeMap.set(slot.slotId, player);\n                }\n            }\n            setActivePlayers(activeMap);\n            setMatchType(pitchState.matchType);\n            setScheduledAt(pitchState.scheduledAt || null);\n            setIsActive(!!pitchState.isActive);\n        } catch (error) {\n            console.error('Failed to load initial data:', error);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const syncFromServer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"usePitchState.useCallback[syncFromServer]\": async ()=>{\n            try {\n                const pitchState = await (0,_lib_api_pitchState__WEBPACK_IMPORTED_MODULE_2__.getPitchState)();\n                // Only update if server has newer data\n                if (pitchState.updatedAt > lastSyncTime.current) {\n                    lastSyncTime.current = pitchState.updatedAt;\n                    const playerMap = new Map(playerPool.map({\n                        \"usePitchState.useCallback[syncFromServer]\": (p)=>[\n                                p.id,\n                                p\n                            ]\n                    }[\"usePitchState.useCallback[syncFromServer]\"]));\n                    const activeMap = new Map();\n                    for (const slot of pitchState.activePlayers){\n                        const player = playerMap.get(slot.playerId);\n                        if (player) {\n                            activeMap.set(slot.slotId, player);\n                        }\n                    }\n                    setActivePlayers(activeMap);\n                    setMatchType(pitchState.matchType);\n                    setScheduledAt(pitchState.scheduledAt || null);\n                    setIsActive(!!pitchState.isActive);\n                }\n            } catch (error) {\n                console.error('Failed to sync from server:', error);\n            }\n        }\n    }[\"usePitchState.useCallback[syncFromServer]\"], [\n        playerPool\n    ]);\n    // Load player pool and pitch state from API on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"usePitchState.useEffect\": ()=>{\n            loadInitialData();\n        }\n    }[\"usePitchState.useEffect\"], []);\n    // Poll for changes from other devices every 3 seconds\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"usePitchState.useEffect\": ()=>{\n            const interval = setInterval({\n                \"usePitchState.useEffect.interval\": async ()=>{\n                    await syncFromServer();\n                }\n            }[\"usePitchState.useEffect.interval\"], 3000);\n            return ({\n                \"usePitchState.useEffect\": ()=>clearInterval(interval)\n            })[\"usePitchState.useEffect\"];\n        }\n    }[\"usePitchState.useEffect\"], [\n        syncFromServer\n    ]);\n    const syncToServer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"usePitchState.useCallback[syncToServer]\": ()=>{\n            if (syncTimeoutRef.current) {\n                clearTimeout(syncTimeoutRef.current);\n            }\n            syncTimeoutRef.current = setTimeout({\n                \"usePitchState.useCallback[syncToServer]\": async ()=>{\n                    try {\n                        const activeSlots = Array.from(activePlayers.entries()).map({\n                            \"usePitchState.useCallback[syncToServer].activeSlots\": (param)=>{\n                                let [slotId, player] = param;\n                                return {\n                                    slotId,\n                                    playerId: player.id\n                                };\n                            }\n                        }[\"usePitchState.useCallback[syncToServer].activeSlots\"]);\n                        const result = await (0,_lib_api_pitchState__WEBPACK_IMPORTED_MODULE_2__.updatePitchState)({\n                            activePlayers: activeSlots,\n                            matchType\n                        });\n                        lastSyncTime.current = result.updatedAt;\n                    } catch (error) {\n                        console.error('Failed to sync to server:', error);\n                    }\n                }\n            }[\"usePitchState.useCallback[syncToServer]\"], 300); // Debounce sync by 300ms\n        }\n    }[\"usePitchState.useCallback[syncToServer]\"], [\n        activePlayers,\n        matchType\n    ]);\n    const loadPlayerPool = async ()=>{\n        try {\n            const players = await (0,_lib_api_players__WEBPACK_IMPORTED_MODULE_1__.getAllPlayers)();\n            setPlayerPool(players);\n        } catch (error) {\n            console.error('Failed to load players:', error);\n        }\n    };\n    const refreshPlayerPool = ()=>{\n        loadPlayerPool();\n    };\n    const addPlayerToSlot = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"usePitchState.useCallback[addPlayerToSlot]\": (slotId, player)=>{\n            setActivePlayers({\n                \"usePitchState.useCallback[addPlayerToSlot]\": (prev)=>{\n                    const newMap = new Map(prev);\n                    newMap.set(slotId, player);\n                    return newMap;\n                }\n            }[\"usePitchState.useCallback[addPlayerToSlot]\"]);\n        }\n    }[\"usePitchState.useCallback[addPlayerToSlot]\"], []);\n    const removePlayerFromSlot = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"usePitchState.useCallback[removePlayerFromSlot]\": (slotId)=>{\n            setActivePlayers({\n                \"usePitchState.useCallback[removePlayerFromSlot]\": (prev)=>{\n                    const newMap = new Map(prev);\n                    newMap.delete(slotId);\n                    return newMap;\n                }\n            }[\"usePitchState.useCallback[removePlayerFromSlot]\"]);\n        }\n    }[\"usePitchState.useCallback[removePlayerFromSlot]\"], []);\n    const clearPitch = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"usePitchState.useCallback[clearPitch]\": async ()=>{\n            try {\n                await (0,_lib_api_pitchState__WEBPACK_IMPORTED_MODULE_2__.clearPitchState)();\n                setActivePlayers(new Map());\n                lastSyncTime.current = new Date().toISOString();\n            } catch (error) {\n                console.error('Failed to clear pitch:', error);\n            }\n        }\n    }[\"usePitchState.useCallback[clearPitch]\"], []);\n    // Sync to server whenever active players or match type changes\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"usePitchState.useEffect\": ()=>{\n            if (!loading) {\n                syncToServer();\n            }\n            return ({\n                \"usePitchState.useEffect\": ()=>{\n                    if (syncTimeoutRef.current) {\n                        clearTimeout(syncTimeoutRef.current);\n                    }\n                }\n            })[\"usePitchState.useEffect\"];\n        }\n    }[\"usePitchState.useEffect\"], [\n        activePlayers,\n        matchType,\n        loading,\n        syncToServer\n    ]);\n    // Calculate bench players (players on pitch beyond capacity)\n    const config = (0,_lib_utils_pitch_layout__WEBPACK_IMPORTED_MODULE_3__.getPitchConfig)(matchType);\n    const pitchPlayerIds = Array.from(activePlayers.entries()).slice(0, config.totalSlots).map((param)=>{\n        let [, player] = param;\n        return player.id;\n    });\n    const benchPlayers = Array.from(activePlayers.entries()).filter((param)=>{\n        let [slotId] = param;\n        return slotId.startsWith('bench-');\n    }).map((param)=>{\n        let [, player] = param;\n        return player;\n    });\n    return {\n        matchType,\n        setMatchType,\n        activePlayers,\n        playerPool,\n        scheduledAt,\n        isActive,\n        addPlayerToSlot,\n        removePlayerFromSlot,\n        refreshPlayerPool,\n        clearPitch,\n        benchPlayers\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9ob29rcy91c2VQaXRjaFN0YXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OzttRUFFaUU7QUFFSTtBQUNnRztBQUMzRztBQUVuRCxTQUFTYTtJQUNkLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHZiwrQ0FBUUEsQ0FBWTtJQUN0RCxNQUFNLENBQUNnQixlQUFlQyxpQkFBaUIsR0FBR2pCLCtDQUFRQSxDQUFzQixJQUFJa0I7SUFDNUUsTUFBTSxDQUFDQyxZQUFZQyxjQUFjLEdBQUdwQiwrQ0FBUUEsQ0FBVyxFQUFFO0lBQ3pELE1BQU0sQ0FBQ3FCLGFBQWFDLGVBQWUsR0FBR3RCLCtDQUFRQSxDQUFnQjtJQUM5RCxNQUFNLENBQUN1QixVQUFVQyxZQUFZLEdBQUd4QiwrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUN5QixTQUFTQyxXQUFXLEdBQUcxQiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNMkIsZUFBZXhCLDZDQUFNQSxDQUFTO0lBQ3BDLE1BQU15QixpQkFBaUJ6Qiw2Q0FBTUEsQ0FBd0I7SUFFckQsTUFBTTBCLGtCQUFrQjtRQUN0QixJQUFJO1lBQ0ZILFdBQVc7WUFDWCxNQUFNLENBQUNJLFNBQVNDLFdBQVcsR0FBRyxNQUFNQyxRQUFRQyxHQUFHLENBQUM7Z0JBQzlDNUIsK0RBQWVBO2dCQUNmRSxrRUFBZUE7YUFDaEI7WUFFRGEsY0FBY1U7WUFDZEgsYUFBYU8sT0FBTyxHQUFHSCxXQUFXSSxTQUFTO1lBRTNDLDZDQUE2QztZQUM3QyxNQUFNQyxZQUFZLElBQUlsQjtZQUN0QixNQUFNbUIsWUFBWSxJQUFJbkIsSUFBSVksUUFBUVEsR0FBRyxDQUFDQyxDQUFBQSxJQUFLO29CQUFDQSxFQUFFQyxFQUFFO29CQUFFRDtpQkFBRTtZQUVwRCxLQUFLLE1BQU1FLFFBQVFWLFdBQVdmLGFBQWEsQ0FBRTtnQkFDM0MsTUFBTTBCLFNBQVNMLFVBQVVNLEdBQUcsQ0FBQ0YsS0FBS0csUUFBUTtnQkFDMUMsSUFBSUYs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Q2xEaUIsTUFBTSxDQUFDO1lBQUMsQ0FBQzlCLE9BQU87ZUFBS0EsT0FBTytCLFVBQVUsQ0FBQztPQUN2Q3ZDLEdBQUcsQ0FBQztZQUFDLEdBQUdJLE9BQU87ZUFBS0E7O0lBRXZCLE9BQU87UUFDTDVCO1FBQ0FDO1FBQ0FDO1FBQ0FHO1FBQ0FFO1FBQ0FFO1FBQ0F3QztRQUNBRztRQUNBSjtRQUNBTTtRQUNBTztJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy90YWtoYW4vRGVza3RvcC9NTkYvbGliL2hvb2tzL3VzZVBpdGNoU3RhdGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUGxheWVyLCBNYXRjaFR5cGUsIFBpdGNoU3RhdGUgYXMgTG9jYWxQaXRjaFN0YXRlIH0gZnJvbSAnQC90eXBlcyc7XG5pbXBvcnQgeyBnZXRBbGxQbGF5ZXJzIGFzIGZldGNoQWxsUGxheWVycyB9IGZyb20gJ0AvbGliL2FwaS9wbGF5ZXJzJztcbmltcG9ydCB7IGdldFBpdGNoU3RhdGUgYXMgZmV0Y2hQaXRjaFN0YXRlLCB1cGRhdGVQaXRjaFN0YXRlIGFzIHN5bmNQaXRjaFN0YXRlLCBjbGVhclBpdGNoU3RhdGUgYXMgY2xlYXJQaXRjaFN0YXRlQVBJLCBBY3RpdmVQbGF5ZXJTbG90IH0gZnJvbSAnQC9saWIvYXBpL3BpdGNoU3RhdGUnO1xuaW1wb3J0IHsgZ2V0UGl0Y2hDb25maWcgfSBmcm9tICdAL2xpYi91dGlscy9waXRjaC1sYXlvdXQnO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlUGl0Y2hTdGF0ZSgpOiBMb2NhbFBpdGNoU3RhdGUgJiB7IGJlbmNoUGxheWVyczogUGxheWVyW10gfSB7XG4gIGNvbnN0IFttYXRjaFR5cGUsIHNldE1hdGNoVHlwZV0gPSB1c2VTdGF0ZTxNYXRjaFR5cGU+KCc1djUnKTtcbiAgY29uc3QgW2FjdGl2ZVBsYXllcnMsIHNldEFjdGl2ZVBsYXllcnNdID0gdXNlU3RhdGU8TWFwPHN0cmluZywgUGxheWVyPj4obmV3IE1hcCgpKTtcbiAgY29uc3QgW3BsYXllclBvb2wsIHNldFBsYXllclBvb2xdID0gdXNlU3RhdGU8UGxheWVyW10+KFtdKTtcbiAgY29uc3QgW3NjaGVkdWxlZEF0LCBzZXRTY2hlZHVsZWRBdF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzQWN0aXZlLCBzZXRJc0FjdGl2ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBsYXN0U3luY1RpbWUgPSB1c2VSZWY8c3RyaW5nPignJyk7XG4gIGNvbnN0IHN5bmNUaW1lb3V0UmVmID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgbG9hZEluaXRpYWxEYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgY29uc3QgW3BsYXllcnMsIHBpdGNoU3RhdGVdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBmZXRjaEFsbFBsYXllcnMoKSxcbiAgICAgICAgZmV0Y2hQaXRjaFN0YXRlKCksXG4gICAgICBdKTtcblxuICAgICAgc2V0UGxheWVyUG9vbChwbGF5ZXJzKTtcbiAgICAgIGxhc3RTeW5jVGltZS5jdXJyZW50ID0gcGl0Y2hTdGF0ZS51cGRhdGVkQXQ7XG5cbiAgICAgIC8vIEJ1aWxkIGFjdGl2ZSBwbGF5ZXJzIG1hcCBmcm9tIHNlcnZlciBzdGF0ZVxuICAgICAgY29uc3QgYWN0aXZlTWFwID0gbmV3IE1hcDxzdHJpbmcsIFBsYXllcj4oKTtcbiAgICAgIGNvbnN0IHBsYXllck1hcCA9IG5ldyBNYXAocGxheWVycy5tYXAocCA9PiBbcC5pZCwgcF0pKTtcblxuICAgICAgZm9yIChjb25zdCBzbG90IG9mIHBpdGNoU3RhdGUuYWN0aXZlUGxheWVycykge1xuICAgICAgICBjb25zdCBwbGF5ZXIgPSBwbGF5ZXJNYXAuZ2V0KHNsb3QucGxheWVySWQpO1xuICAgICAgICBpZiAocGxheWVyKSB7XG4gICAgICAgICAgYWN0aXZlTWFwLnNldChzbG90LnNsb3RJZCwgcGxheWVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZXRBY3RpdmVQbGF5ZXJzKGFjdGl2ZU1hcCk7XG4gICAgICBzZXRNYXRjaFR5cGUocGl0Y2hTdGF0ZS5tYXRjaFR5cGUgYXMgTWF0Y2hUeXBlKTtcbiAgICAgIHNldFNjaGVkdWxlZEF0KHBpdGNoU3RhdGUuc2NoZWR1bGVkQXQgfHwgbnVsbCk7XG4gICAgICBzZXRJc0FjdGl2ZSghIXBpdGNoU3RhdGUuaXNBY3RpdmUpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBpbml0aWFsIGRhdGE6JywgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3luY0Zyb21TZXJ2ZXIgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBpdGNoU3RhdGUgPSBhd2FpdCBmZXRjaFBpdGNoU3RhdGUoKTtcblxuICAgICAgLy8gT25seSB1cGRhdGUgaWYgc2VydmVyIGhhcyBuZXdlciBkYXRhXG4gICAgICBpZiAocGl0Y2hTdGF0ZS51cGRhdGVkQXQgPiBsYXN0U3luY1RpbWUuY3VycmVudCkge1xuICAgICAgICBsYXN0U3luY1RpbWUuY3VycmVudCA9IHBpdGNoU3RhdGUudXBkYXRlZEF0O1xuXG4gICAgICAgIGNvbnN0IHBsYXllck1hcCA9IG5ldyBNYXAocGxheWVyUG9vbC5tYXAocCA9PiBbcC5pZCwgcF0pKTtcbiAgICAgICAgY29uc3QgYWN0aXZlTWFwID0gbmV3IE1hcDxzdHJpbmcsIFBsYXllcj4oKTtcblxuICAgICAgICBmb3IgKGNvbnN0IHNsb3Qgb2YgcGl0Y2hTdGF0ZS5hY3RpdmVQbGF5ZXJzKSB7XG4gICAgICAgICAgY29uc3QgcGxheWVyID0gcGxheWVyTWFwLmdldChzbG90LnBsYXllcklkKTtcbiAgICAgICAgICBpZiAocGxheWVyKSB7XG4gICAgICAgICAgICBhY3RpdmVNYXAuc2V0KHNsb3Quc2xvdElkLCBwbGF5ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNldEFjdGl2ZVBsYXllcnMoYWN0aXZlTWFwKTtcbiAgICAgICAgc2V0TWF0Y2hUeXBlKHBpdGNoU3RhdGUubWF0Y2hUeXBlIGFzIE1hdGNoVHlwZSk7XG4gICAgICAgIHNldFNjaGVkdWxlZEF0KHBpdGNoU3RhdGUuc2NoZWR1bGVkQXQgfHwgbnVsbCk7XG4gICAgICAgIHNldElzQWN0aXZlKCEhcGl0Y2hTdGF0ZS5pc0FjdGl2ZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzeW5jIGZyb20gc2VydmVyOicsIGVycm9yKTtcbiAgICB9XG4gIH0sIFtwbGF5ZXJQb29sXSk7XG5cbiAgLy8gTG9hZCBwbGF5ZXIgcG9vbCBhbmQgcGl0Y2ggc3RhdGUgZnJvbSBBUEkgb24gbW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsb2FkSW5pdGlhbERhdGEoKTtcbiAgfSwgW10pO1xuXG4gIC8vIFBvbGwgZm9yIGNoYW5nZXMgZnJvbSBvdGhlciBkZXZpY2VzIGV2ZXJ5IDMgc2Vjb25kc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgc3luY0Zyb21TZXJ2ZXIoKTtcbiAgICB9LCAzMDAwKTtcblxuICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgfSwgW3N5bmNGcm9tU2VydmVyXSk7XG5cbiAgY29uc3Qgc3luY1RvU2VydmVyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChzeW5jVGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQoc3luY1RpbWVvdXRSZWYuY3VycmVudCk7XG4gICAgfVxuXG4gICAgc3luY1RpbWVvdXRSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYWN0aXZlU2xvdHM6IEFjdGl2ZVBsYXllclNsb3RbXSA9IEFycmF5LmZyb20oYWN0aXZlUGxheWVycy5lbnRyaWVzKCkpLm1hcChcbiAgICAgICAgICAoW3Nsb3RJZCwgcGxheWVyXSkgPT4gKHsgc2xvdElkLCBwbGF5ZXJJZDogcGxheWVyLmlkIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3luY1BpdGNoU3RhdGUoe1xuICAgICAgICAgIGFjdGl2ZVBsYXllcnM6IGFjdGl2ZVNsb3RzLFxuICAgICAgICAgIG1hdGNoVHlwZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGFzdFN5bmNUaW1lLmN1cnJlbnQgPSByZXN1bHQudXBkYXRlZEF0O1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHN5bmMgdG8gc2VydmVyOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9LCAzMDApOyAvLyBEZWJvdW5jZSBzeW5jIGJ5IDMwMG1zXG4gIH0sIFthY3RpdmVQbGF5ZXJzLCBtYXRjaFR5cGVdKTtcblxuICBjb25zdCBsb2FkUGxheWVyUG9vbCA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGxheWVycyA9IGF3YWl0IGZldGNoQWxsUGxheWVycygpO1xuICAgICAgc2V0UGxheWVyUG9vbChwbGF5ZXJzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgcGxheWVyczonLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJlZnJlc2hQbGF5ZXJQb29sID0gKCkgPT4ge1xuICAgIGxvYWRQbGF5ZXJQb29sKCk7XG4gIH07XG5cbiAgY29uc3QgYWRkUGxheWVyVG9TbG90ID0gdXNlQ2FsbGJhY2soKHNsb3RJZDogc3RyaW5nLCBwbGF5ZXI6IFBsYXllcikgPT4ge1xuICAgIHNldEFjdGl2ZVBsYXllcnMoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IG5ld01hcCA9IG5ldyBNYXAocHJldik7XG4gICAgICBuZXdNYXAuc2V0KHNsb3RJZCwgcGxheWVyKTtcbiAgICAgIHJldHVybiBuZXdNYXA7XG4gICAgfSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCByZW1vdmVQbGF5ZXJGcm9tU2xvdCA9IHVzZUNhbGxiYWNrKChzbG90SWQ6IHN0cmluZykgPT4ge1xuICAgIHNldEFjdGl2ZVBsYXllcnMoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IG5ld01hcCA9IG5ldyBNYXAocHJldik7XG4gICAgICBuZXdNYXAuZGVsZXRlKHNsb3RJZCk7XG4gICAgICByZXR1cm4gbmV3TWFwO1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgY2xlYXJQaXRjaCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgY2xlYXJQaXRjaFN0YXRlQVBJKCk7XG4gICAgICBzZXRBY3RpdmVQbGF5ZXJzKG5ldyBNYXAoKSk7XG4gICAgICBsYXN0U3luY1RpbWUuY3VycmVudCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNsZWFyIHBpdGNoOicsIGVycm9yKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICAvLyBTeW5jIHRvIHNlcnZlciB3aGVuZXZlciBhY3RpdmUgcGxheWVycyBvciBtYXRjaCB0eXBlIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWxvYWRpbmcpIHtcbiAgICAgIHN5bmNUb1NlcnZlcigpO1xuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoc3luY1RpbWVvdXRSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoc3luY1RpbWVvdXRSZWYuY3VycmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2FjdGl2ZVBsYXllcnMsIG1hdGNoVHlwZSwgbG9hZGluZywgc3luY1RvU2VydmVyXSk7XG5cbiAgLy8gQ2FsY3VsYXRlIGJlbmNoIHBsYXllcnMgKHBsYXllcnMgb24gcGl0Y2ggYmV5b25kIGNhcGFjaXR5KVxuICBjb25zdCBjb25maWcgPSBnZXRQaXRjaENvbmZpZyhtYXRjaFR5cGUpO1xuICBjb25zdCBwaXRjaFBsYXllcklkcyA9IEFycmF5LmZyb20oYWN0aXZlUGxheWVycy5lbnRyaWVzKCkpXG4gICAgLnNsaWNlKDAsIGNvbmZpZy50b3RhbFNsb3RzKVxuICAgIC5tYXAoKFssIHBsYXllcl0pID0+IHBsYXllci5pZCk7XG5cbiAgY29uc3QgYmVuY2hQbGF5ZXJzID0gQXJyYXkuZnJvbShhY3RpdmVQbGF5ZXJzLmVudHJpZXMoKSlcbiAgICAuZmlsdGVyKChbc2xvdElkXSkgPT4gc2xvdElkLnN0YXJ0c1dpdGgoJ2JlbmNoLScpKVxuICAgIC5tYXAoKFssIHBsYXllcl0pID0+IHBsYXllcik7XG5cbiAgcmV0dXJuIHtcbiAgICBtYXRjaFR5cGUsXG4gICAgc2V0TWF0Y2hUeXBlLFxuICAgIGFjdGl2ZVBsYXllcnMsXG4gICAgcGxheWVyUG9vbCxcbiAgICBzY2hlZHVsZWRBdCxcbiAgICBpc0FjdGl2ZSxcbiAgICBhZGRQbGF5ZXJUb1Nsb3QsXG4gICAgcmVtb3ZlUGxheWVyRnJvbVNsb3QsXG4gICAgcmVmcmVzaFBsYXllclBvb2wsXG4gICAgY2xlYXJQaXRjaCxcbiAgICBiZW5jaFBsYXllcnMsXG4gIH07XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVJlZiIsImdldEFsbFBsYXllcnMiLCJmZXRjaEFsbFBsYXllcnMiLCJnZXRQaXRjaFN0YXRlIiwiZmV0Y2hQaXRjaFN0YXRlIiwidXBkYXRlUGl0Y2hTdGF0ZSIsInN5bmNQaXRjaFN0YXRlIiwiY2xlYXJQaXRjaFN0YXRlIiwiY2xlYXJQaXRjaFN0YXRlQVBJIiwiZ2V0UGl0Y2hDb25maWciLCJ1c2VQaXRjaFN0YXRlIiwibWF0Y2hUeXBlIiwic2V0TWF0Y2hUeXBlIiwiYWN0aXZlUGxheWVycyIsInNldEFjdGl2ZVBsYXllcnMiLCJNYXAiLCJwbGF5ZXJQb29sIiwic2V0UGxheWVyUG9vbCIsInNjaGVkdWxlZEF0Iiwic2V0U2NoZWR1bGVkQXQiLCJpc0FjdGl2ZSIsInNldElzQWN0aXZlIiwibG9hZGluZyIsInNldExvYWRpbmciLCJsYXN0U3luY1RpbWUiLCJzeW5jVGltZW91dFJlZiIsImxvYWRJbml0aWFsRGF0YSIsInBsYXllcnMiLCJwaXRjaFN0YXRlIiwiUHJvbWlzZSIsImFsbCIsImN1cnJlbnQiLCJ1cGRhdGVkQXQiLCJhY3RpdmVNYXAiLCJwbGF5ZXJNYXAiLCJtYXAiLCJwIiwiaWQiLCJzbG90IiwicGxheWVyIiwiZ2V0IiwicGxheWVySWQiLCJzZXQiLCJzbG90SWQiLCJlcnJvciIsImNvbnNvbGUiLCJzeW5jRnJvbVNlcnZlciIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwic3luY1RvU2VydmVyIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImFjdGl2ZVNsb3RzIiwiQXJyYXkiLCJmcm9tIiwiZW50cmllcyIsInJlc3VsdCIsImxvYWRQbGF5ZXJQb29sIiwicmVmcmVzaFBsYXllclBvb2wiLCJhZGRQbGF5ZXJUb1Nsb3QiLCJwcmV2IiwibmV3TWFwIiwicmVtb3ZlUGxheWVyRnJvbVNsb3QiLCJkZWxldGUiLCJjbGVhclBpdGNoIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiY29uZmlnIiwicGl0Y2hQbGF5ZXJJZHMiLCJzbGljZSIsInRvdGFsU2xvdHMiLCJiZW5jaFBsYXllcnMiLCJmaWx0ZXIiLCJzdGFydHNXaXRoIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/hooks/usePitchState.ts\n"));

/***/ })

});